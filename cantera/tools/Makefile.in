#
# $Revision: 1.11 $
# $Author: dggoodwin $
# $Date: 2004/08/05 14:26:42 $
#
build_ck=@BUILD_CK@

all: apps

install: templates-install apps-install man-install

apps:
	cd src; @MAKE@
	cd testtools; @MAKE@

apps-install:
	@INSTALL@ -d @ct_bindir@
ifeq ($(build_ck),1)
	@INSTALL@ @buildbin@/ck2cti @ct_bindir@
endif
	@INSTALL@ @buildbin@/cti2ctml @ct_bindir@

man-install:
	@INSTALL@ -d @ct_mandir@/man1
	@INSTALL@ man/ck2cti.1 @ct_mandir@/man1
	@INSTALL@ man/mixmaster.1 @ct_mandir@/man1

uninstall:
	rm -r -f @ct_mandir@/man1/ck2cti.1
	rm -f @ct_bindir@/ck2cti

clean:
	$(RM) *.*~ 
	cd src; @MAKE@ clean
	cd testtools; @MAKE@ clean

docs:
	cd doc; doxygen Cantera.cfg

depends:
	cd src; @MAKE@ depends
	cd testtools; @MAKE@ depends

templates-install:
	@INSTALL@ -d @ct_dir@/templates
	@INSTALL@ -d @ct_dir@/templates/f77
	@INSTALL@ -m 644 templates/f77/*.cpp @ct_dir@/templates/f77
	@INSTALL@ -m 644 templates/f77/*.f @ct_dir@/templates/f77
	@INSTALL@ -m 644 templates/f77/*.mak @ct_dir@/templates/f77
	@INSTALL@ -d @ct_dir@/templates/f90
	@INSTALL@ -m 644 templates/f90/*.f90 @ct_dir@/templates/f90
	@INSTALL@ -m 644 templates/f90/*.mak @ct_dir@/templates/f90
	@INSTALL@ -d @ct_dir@/templates/cxx
	@INSTALL@ -m 644 templates/cxx/*.cpp @ct_dir@/templates/cxx
	@INSTALL@ -m 644 templates/cxx/*.mak @ct_dir@/templates/cxx
	chown -R @username@ @ct_dir@/templates